name: Main Publish 
run-name: ${{ github.actor }} has launched the ${{ env.BRANCH_NAME }} pipeline
env:
  BRANCH_NAME: ${{ github.head_ref || github.ref_name }} 
on:
  push:
    branches: [ uat, prd ]
  pull_request:
    branches: [ uat, prd ]
jobs:
  call-workflow-passing-data:
    uses: Test-Organisation-FCC/cicd-primitives/.github/workflows/main-publish.yml@main
    with:
      environment: uat
    secrets:
      MY_CLIENT_ID: ${{ secrets.CLIENT_ID }}
      MY_REFRESH_TOK: ${{ secrets.REFRESH_TOK }}